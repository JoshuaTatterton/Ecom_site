<div class="modal fade" id="new_currency_modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <%= form_for currency, url: admin_currencies_path(Switch.current_account), data: { turbo: true } do |f| %>
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Add Currency</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <div class="row mb-3">
            <div class="col">
              <%= f.label :iso, class: "form-label" do %>
                Currency:
              <% end %>
              <%= f.select :iso,
                (CurrencyHelper::CURRENCY_ISOS - currencies.pluck(:iso)).map { |iso|
                  [ "#{iso} (#{CurrencyHelper::CURRENCIES.dig(iso, :symbol)})", iso ]
                },
                { include_blank: "- Select -", required: true },
                { class: "form-select" } %>
            </div>
          </div>

          <% if can? :update, :currency_defaults %>
            <div class="row">
              <div class="col">
                <%= f.label :default, "Make this the default Currency for the Account:", class: "form-label" %>
                <span class="form-switch fs-5 ms-2">
                  <%= f.check_box :default, class: "form-check-input border-dark-subtle", role: "switch" %>
                </span>
              </div>
            </div>
          <% end %>
        </div>

        <div class="modal-footer">
          <%= f.submit "Create", class: "btn btn-success", data: { bs_dismiss: "modal" } %>
        </div>
      </div>
    <% end %>
  </div>
</div>
